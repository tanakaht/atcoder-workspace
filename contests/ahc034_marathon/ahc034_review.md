# ahc034

https://atcoder.jp/contests/ahc034/submissions/me


## 考察

- 最低でもコスト3についてdiffを1減らせる
- 高さ0でないものは作らないでよさそう
- 案1
    - どこで積む、あげるを状態としてやきなます
    - 砂をできるだけ少なく運びたい。swapした時にinvalidになりうる。2-optがNGな可能性がある。
    - 半分だけ積むができない。
    - 差分計算
        - 頭から累積和とって常に>=0です。
    - 途中で雑に下ろすのはやっていい。ちょっとつむ、下ろすを入れたい。
        - ちょっと積むはそんなメリットなさそう
        - ちょっと下ろすも多分そんな意味ない
        - 今ある量をちょうど下ろす。を入れる。
        - 下ろす頂点は2回訪問する。1回目はmin(ある量, そのマスの量)下ろす。2回目は完了してたらスキップするし、そのマスの量降ろせなかったら馬鹿でかペナ入れる
- 案2
    - 中間状態的なのを持たす。どこの砂がどこに行くかを決め打つ。あとはTSPっぽいやつ(いつぞやのAHC)
- 案3
    - 下限が最小費用流で出せる。ここベースにビムさっぽいのも強いかも
- 1h経過時トップ6.7G(44,600,000/1ケース)
    - 雑焼き: 2200
    - 2-opt, 範囲insert近傍追加: 3254
    - 途中で下ろすの追加: 2751
